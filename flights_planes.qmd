---
title: "UA í•­ê³µì˜ ì œì¡°ì‚¬ë³„ ì¶œë°œ ì§€ì—° ë¶„ì„"
code-overflow: scroll  # ì½”ë“œ ê¸¸ì–´ì§ˆ ê²½ìš° ìŠ¤í¬ë¡¤ í—ˆìš©
title-slide-attributes: 
  data-background-image: images/ua_dep.png
  data-background-size: cover
  data-background-opacity: "0.5"  # ë°°ê²½ íˆ¬ëª…ë„ ì¡°ì ˆ
  data-font-size: 48px  # ğŸ”¥ ê¸°ë³¸ ê¸€ì í¬ê¸° ì¡°ì ˆ (ì œëª©, ë¶€ì œëª©, ì €ì í¬í•¨)
  
author: "Team F5 : ì •ì˜ì£¼, í•œì§€ìˆ˜, ì‹ íƒœì„ "
subtitle: "'nycflights13' ë³´ê³ ì„œ"
format:
  revealjs:
    footer: "Â© 2025 Team F5"
    logo: "images/logo.png"
    slide-number: true
    theme: night  # ë‚´ì¥ í…Œë§ˆ ì ìš©
    html: 
      code-fold: true  # (ì„ íƒ) ì½”ë“œ ì ‘ê¸° ê¸°ëŠ¥ ì¶”ê°€
execute:
  echo: true  # ê¸°ë³¸ì ìœ¼ë¡œ ì½”ë“œì™€ ê²°ê³¼ ëª¨ë‘ í‘œì‹œ
  warning: false  # (ì„ íƒ) ê²½ê³  ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
css: styles.css  # ğŸ”¥ CSS íŒŒì¼ ì ìš©
---

```{python}
#| echo : false 
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
from nycflights13 import flights, planes

```

# Contents

::: {.text-center}

<br>
<span class="section-title">1. ë¬¸ì œìƒí™© ì •ì˜ âœˆï¸   

<span class="section-title">2. ë°ì´í„° ì¤€ë¹„ ë° ì „ì²˜ë¦¬ ğŸ“š   

<span class="section-title">3. ë°ì´í„° ë¶„ì„ ë° ì‹œê°í™” ğŸ“Š

<span class="section-title">4. ê²°ë¡  ë° ê°œì„  ë°©ì•ˆ ğŸ”
:::



# 1. ë¬¸ì œìƒí™© ì •ì˜

## 1.1 ìƒí™© ì„¤ëª… {.text-center}
::: {.column width="50%" style="margin-top:10px;"}
![](./images/UA.png){fig-align="center" width=900 height=600}
:::

::: {.column width="50%" style="margin-top:150px;"}
### ê°€ì •:
- ìš°ë¦¬ëŠ” UA í•­ê³µì‚¬ ì§ì›ì…ë‹ˆë‹¤ ! ğŸ¹âœˆï¸

<br>

### ìƒí™©:
- ë‚´ë¶€ íšŒì˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•­ê³µê¸° ìš´í–‰ì˜ íš¨ìœ¨ì„±ì„ ê°œì„ í•˜ê³ ì í•©ë‹ˆë‹¤. ğŸ˜Š
:::

## 1.2 ìš´í•­ ì§€ì—° ë¶„ì„ ë°°ê²½ {.text-center}

::: {.column width="50%" style="margin-top:10px;"}
![](./images/catoon.png){fig-align="center" width=900 height=600}
:::

::: {.column width="50%" style="margin-top:150px;"}
### âœˆï¸ UA í•­ê³µì‚¬ ë‚´ë¶€ íšŒì˜ ê²°ê³¼

<br>

âœ… ìƒë°˜ê¸° ë™ì•ˆ **UA í•­ê³µì‚¬**ì—ì„œ ì¦ì€ **ì¶œë°œ ì§€ì—°** ë°œìƒ

âœ… ì¡°ì‚¬ ê²°ê³¼, **ê¸°ì²´ ë¶€í’ˆ ë¬¸ì œ**ê°€ ì£¼ìš” ì›ì¸ìœ¼ë¡œ íŒŒì•…

âœ… ì œì¡°ì‚¬ë³„ í•­ê³µê¸°ì™€ ì¶œë°œ ì§€ì—° ë°ì´í„° ê°„ **ì—°ê´€ì„± ë¶„ì„** ì§„í–‰

âœ… ë°ì´í„° ë¶„ì„ ê¸°ë°˜ **íš¨ìœ¨ì„± ê°œì„ ** ì „ëµ ìˆ˜ë¦½ í•„ìš”
:::



# 2. ë°ì´í„° ì¤€ë¹„ ë° ì „ì²˜ë¦¬
## 2.1 ë°ì´í„° ì •ë³´

::: {.column width="50%" style="margin-top:80px;"}
```{python}
flights.info()
```
:::

::: {.column width="50%" style="margin-top:80px;"}
### ğŸ” ì£¼ìš” ë°ì´í„° 

- dep_delay : ì¶œë°œ ì§€ì—° 
- carrier : í•­ê³µì‚¬
- year, month, day : ë…„, ì›”, ì¼
- tailnum : ê¸°ì²´ ë²ˆí˜¸
:::

## 2.1 ë°ì´í„° ì •ë³´
::: {.column width="50%" style="margin-top:80px;"}

```{python}
planes.info()
```
:::

::: {.column width="50%" style="margin-top:80px;"}
### ğŸ” ì£¼ìš” ë°ì´í„° 

- tailnum : ê¸°ì²´ ë²ˆí˜¸
- manufacturer : ì œì¡°ì‚¬

:::


## 2.2 ë°ì´í„° ë³‘í•©

- ë‘ ë°ì´í„°ë¥¼ tailnum ê¸°ì¤€ìœ¼ë¡œ ë³‘í•©
```{python}
# tailnumì„ keyë¡œ merge í•˜ê¸° 
df = pd.merge(flights, planes, on = 'tailnum', how='left')
```
```{python}
#|echo : false
print("ë³‘í•©ëœ ë°ì´í„° :", len(df))
```
- ë³‘í•©ëœ ë°ì´í„° ì…‹ì˜ ì£¼ìš” ë°ì´í„°
```{python}
#|echo : false
df[['arr_delay','carrier','tailnum','manufacturer','year_x','month','day']].head()
```
## 2.3 ë°ì´í„° ì¶”ì¶œ
- **UA** í•­ê³µì‚¬ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ê¸°

```{python}
#| echo : false 
#| fig-align: center

# í•­ê³µì‚¬ë³„ ìš´í•­ í¸
flight = flights.groupby('carrier')['flight'].nunique().reset_index()
flight_sorted = flight.sort_values(by='flight', ascending=False)

```
```{python}
#| echo : true
#| code-fold : true 
#| fig-align: center

# ì½”ë“œ ì„¤ëª… 1
# ìƒ‰ìƒ ì¡°ì • 
g_colors = ['red' if carrier == 'UA' else 'skyblue' for carrier in flight_sorted['carrier']]

# í•­ê³µì‚¬ë³„ ìš´í•­ íšŸìˆ˜ ê³„ì‚°
carrier_counts = flights['carrier'].value_counts()

# ê·¸ë˜í”„ í¬ê¸° ì„¤ì •
plt.figure(figsize=(14, 2))

# ë§‰ëŒ€ ê·¸ë˜í”„ ê·¸ë¦¬ê¸° (ê°œë³„ ìƒ‰ìƒ ì ìš©)
plt.bar(carrier_counts.index, carrier_counts.values, color=g_colors)

# ì œëª© ë° ì¶• ë¼ë²¨ ì„¤ì •
plt.title("Number of Flights by Airline", fontsize=14)
plt.xlabel("Airline Carrier", fontsize=12)
plt.ylabel("Number of Flights", fontsize=6)

# Xì¶• ë ˆì´ë¸” íšŒì „ (ê°€ë…ì„± ê°œì„ )
plt.xticks(rotation=45)

# ê·¸ë˜í”„ ì¶œë ¥
plt.show()
```
- UA í•­ê³µì‚¬ ë°ì´í„° ê°œìˆ˜
```{python}
df  = df[df['carrier']=='UA']
df_len = len(df)
print("UA í•­ê³µì‚¬ì˜ ìš´í–‰ëŸ‰ :", df_len)
```

## 2.4 ë°ì´í„° ì¶”ê°€
- ë‚ ì§œ ì—´ ë§Œë“¤ê¸°
```{python}
df['dep_date_time'] = pd.to_datetime(df['year_x'].astype(str) 
                                  + '-' + df['month'].astype(str) 
                                  + '-' + df['day'].astype(str) 
                                  + ' ' + df['hour'].astype(str) 
                                  + ':' + df['minute'].astype(str))
```
```{python}
#|echo : false
df[['year_x', 'month','day','hour','minute','dep_date_time']].head(3)
```

- 2013ë…„ 1ì›”~6ì›”(ìƒë°˜ê¸°) ë°ì´í„°ë¥¼ í•„í„°ë§
```{python}
df_fh = df[(df['dep_date_time'] >= '2013-01-01') & (df['dep_date_time'] <= '2013-06-30')]
```
```{python}
#| echo : false
first_half = len(df_fh)
print(f"ì „ì²˜ë¦¬ëœ ìƒë°˜ê¸° ë°ì´í„° í•„í„°ë§: {df_len}=>{first_half}")
```


## 2.4 ì´ìƒì¹˜ ì œê±°
- ë¹ ë¥¸ ì´ë¥™ì€ ì§€ì—°ì´ ì•„ë‹ˆë¯€ë¡œ 0ìœ¼ë¡œ ë³€ê²½
```{python}

#0ë³´ë‹¤ ì‘ìœ¼ë©´ 0ì´ë¼ê³  í•˜ê¸° 
df_fh['dep_delay'] = df_fh['dep_delay'].apply(lambda x: 0 if x < 0 else x)
```

```{python}
#| echo : false
zero_df_fh = len(df_fh)
# ë³€í™˜ í›„ ë°ì´í„° í¬ê¸° ì¶œë ¥
print(f"ë¹ ë¥¸ ì´ë¥™ ì²˜ë¦¬ í›„ ë°ì´í„°ì˜ ê°œìˆ˜: {first_half} => {zero_df_fh}")
```

## 2.4 ì´ìƒì¹˜ ì œê±°
- ì´ìƒì¹˜ ì œê±°ë¥¼ ìœ„í•œ IQR(Interquartile Range) ê³„ì‚°

```{python}
# ì´ìƒì¹˜ ì œê±°ë¥¼ ìœ„í•œ IQR(Interquartile Range) ê³„ì‚°í•¨ìˆ˜ 
# ì½”ë“œ ì„¤ëª… 
def remove_outliers_by_manufacturer(df, column, manufacturer_column):
    filtered_df = pd.DataFrame()  # ì´ìƒì¹˜ ì œê±°ëœ ë°ì´í„°ë¥¼ ì €ì¥í•  ë°ì´í„°í”„ë ˆì„
    
    for manufacturer in df[manufacturer_column].unique():
        subset = df[df[manufacturer_column] == manufacturer]  # íŠ¹ì • ì œì¡°ì‚¬ ë°ì´í„° í•„í„°ë§
        
        # IQR ê³„ì‚°
        Q1 = subset[column].quantile(0.25)
        Q3 = subset[column].quantile(0.75)
        IQR = Q3 - Q1
        
        # ì´ìƒì¹˜ ê¸°ì¤€
        lower_bound = Q1 - 1.5 * IQR
        upper_bound = Q3 + 1.5 * IQR

        # ì´ìƒì¹˜ ì œê±° í›„ ë°ì´í„°í”„ë ˆì„ì— ì¶”ê°€
        cleaned_subset = subset[(subset[column] >= lower_bound) & (subset[column] <= upper_bound)]
        filtered_df = pd.concat([filtered_df, cleaned_subset], ignore_index=True)
    
    return filtered_df
```
```{python}
#|echo : false
# ì œì¡°ì‚¬ë³„ dep_delay ì´ìƒì¹˜ ì œê±° ì ìš©
df_fh = remove_outliers_by_manufacturer(df_fh, 'dep_delay', 'manufacturer')

# ë³€í™˜ í›„ ë°ì´í„° í¬ê¸° ì¶œë ¥
final_df_fh = len(df_fh)
print(f"ì´ìƒì¹˜ ì œê±° í›„ ë°ì´í„°ì˜ ê°œìˆ˜: {zero_df_fh} => {final_df_fh}")
```

# 3. ë°ì´í„° ë¶„ì„ ë° ì‹œê°í™”


## 3.1 ì œì¡°ì‚¬ë³„ ì§€ì—° ì‹œê°„ í‰ê·  ë° ì¤‘ì•™ê°’ ë¶„ì„  

::: {.callout-note appearance="simple"}  
- ì œì¡°ì‚¬ë³„ ì¶œë°œ ì§€ì—°ì‹œê°„ì˜ í‰ê· ê³¼ ì¤‘ì•™ê°’ì„ ë¹„êµí•œ ê²°ê³¼, í° ì°¨ì´ëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
- ì¶”ê°€ì ì¸ ì§€ì—° ì›ì¸ì„ ê³ ë ¤í•˜ì—¬ ë¶„ì„ì„ í™•ì¥í•  í•„ìš”ê°€ ìˆìŒ
:::

::: {.cell}
```{python}
#| echo: false
#| fig-align: "center"

# 0ì„ ì œì™¸í•œ ë°ì´í„° ì‚¬ìš©
filtered_df = df_fh[df_fh['dep_delay'] > 0]
```

```{python}
#| code-fold: true
#| fig-align: "center"
# ì œì¡°ì‚¬ë³„ í‰ê·  ë° ì¤‘ì•™ê°’ ê³„ì‚° ë° ì •ë ¬
manufacturer_stats = filtered_df.groupby('manufacturer')['dep_delay'].agg(['mean', 'median']).sort_values(by='mean', ascending=False)
manufacturer_stats.head()
# ì œì¡°ì‚¬ ìˆœì„œë¥¼ ì§ì ‘ ì§€ì •
manufacturer_order = ["BOEING", "AIRBUS", "AIRBUS INDUSTRIE"]

# ì§€ì •ëœ ìˆœì„œëŒ€ë¡œ ì •ë ¬ (ì—†ëŠ” ì œì¡°ì‚¬ëŠ” ìë™ ì œì™¸ë¨)
manufacturer_stats = manufacturer_stats.reindex(manufacturer_order)
```

```{python}
#| echo: false
#| fig-align: "center"

# ì „ì²´ ì œì¡°ì‚¬ì˜ í‰ê·  ë° ì¤‘ì•™ê°’ í‰ê·  ê³„ì‚°
mean_avg = manufacturer_stats['mean'].mean()
median_avg = manufacturer_stats['median'].mean()

# ì‹œê°í™”
# ì„œë¸Œ í”Œëìœ¼ë¡œ ë‘ ê·¸ë˜í”„ë¥¼ ë³´ì—¬ì£¼ì—ˆë‹¤. 
fig, axes = plt.subplots(1, 2, figsize=(12, 4.5))

# í‰ê· ê°’ ê·¸ë˜í”„
sns.barplot(x=manufacturer_stats.index, y=manufacturer_stats['mean'], ax=axes[0], palette='pastel')
# í‰ê· ê°’ì˜ í‰ê·  ê·¸ë˜í”„ë¥¼ í”Œëì— ê·¸ë¦¼ 
axes[0].axhline(mean_avg, color='red', linestyle='--', label=f'Mean Avg: {mean_avg:.1f}')

# í‰ê·  ë§‰ëŒ€ ê·¸ë˜í”„ 
axes[0].set_xticklabels(axes[0].get_xticklabels(), rotation=0, ha='right')

axes[0].set_title('Aircraft Manufacturer Delay (Mean)')
axes[0].set_ylabel('Average Delay (minutes)')

axes[0].legend()

# ì¤‘ì•™ê°’ ê·¸ë˜í”„
sns.barplot(x=manufacturer_stats.index, y=manufacturer_stats['median'], ax=axes[1], palette='pastel')

# ì¤‘ì•™ê°’ì˜ í‰ê·  ê·¸ë˜í”„ 
axes[1].axhline(median_avg, color='blue', linestyle='--', label=f'Median Avg: {median_avg:.1f}')

# ì¤‘ì•™ê°’ ê·¸ë˜í”„
axes[1].set_xticklabels(axes[1].get_xticklabels(), rotation=0, ha='right')

axes[1].set_title('Aircraft Manufacturer Delay (Median)')
axes[1].set_ylabel('Median Delay (minutes)')

axes[1].legend()

plt.tight_layout()
plt.show()
```

:::

## 3.1 ì œì¡°ì‚¬ë³„ ì§€ì—° ì‹œê°„ í‰ê·  ë° ì¤‘ì•™ê°’ ë¶„ì„  
![](./images/aaa.png){fig-align="center" width=1000 height=600}

## 3.2 UA í•­ê³µì‚¬ì˜ ë¹„í–‰ê¸° ì œì¡°ì‚¬ ë¹„ìœ¨

::: {.callout-note appearance="simple"}  
- BOEINGì‚¬ì˜ ìš´í–‰ ë¹„ìœ¨ì´ 73.2%ë¡œ ê°€ì¥ ë†’ìŒ
- UA í•­ê³µì‚¬ëŠ” BOEING ê¸°ì¢…ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìš´ì˜ë˜ê³  ìˆìŒ
- BOEINGì—ì„œ ë°œìƒí•˜ëŠ” ì¶œë°œ ì§€ì—°ì´ ì „ì²´ ìš´í•­ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ í´ ê°€ëŠ¥ì„±ì´ ìˆìŒ
:::

```{python}
#| echo: false
#| fig-align: "center"

manufacturer_counts = df_fh['manufacturer'].value_counts()
```

```{python}
#| echo: false
# ì œì¡°ì‚¬ ì´ë¦„ê³¼ ìš´í•­ íšŸìˆ˜ë¥¼ í•¨ê»˜ í‘œì‹œ
labels = [f"{manufacturer} ({count})" for manufacturer, count in zip(manufacturer_counts.index, manufacturer_counts.values)]
```

```{python}
#| echo: true
#| code-fold: true
#| fig-align: "center"

# ë‹¤í¬ê·¸ë ˆì´ HEX ì½”ë“œ ì„¤ì •
dark_gray = '#A9A9A9'

# íŒŒì´ ê·¸ë˜í”„ 
plt.figure(figsize=(10, 5.2))
plt.pie(manufacturer_counts, labels=labels, autopct='%1.1f%%', startangle=140, colors=['red','gray', dark_gray])
plt.show()
```


## 3.3 ì œì¡°ì‚¬ë³„ ì§€ì—° ë°œìƒ ë¹ˆë„ ë¶„ì„  

::: {.callout-note appearance="simple"}  
- BOEINGì‚¬ëŠ” ì „ì²´ ìš´í•­ íšŸìˆ˜ë„ ê°€ì¥ ë§ì•„ ì§€ì—° ë°œìƒ ê±´ìˆ˜ê°€ ì ˆëŒ€ì ìœ¼ë¡œ ë†’ìŒ
- BOEINGì‚¬ì˜ ìš´í•­ ëŒ€ë¹„ ì§€ì—° ë¹„ìœ¨ì´ 42%ë¡œ ê°€ì¥ ë†’ìŒ 
- AIRBUS INDUSTRIE ë° AIRBUSë„ ì§€ì—°ì´ ë°œìƒí•˜ì§€ë§Œ, BOEING ëŒ€ë¹„ ë¹„ìœ¨ì´ ë‚®ìŒ
- ì œì¡°ì‚¬ë³„ ì „ì²´ ìš´í•­ ëŒ€ë¹„ ì§€ì—° ë¹„ìœ¨ì„ ë¹„êµí•˜ì—¬ ìš´í•­ ìµœì í™” ë°©ì•ˆ ë§ˆë ¨ í•„ìš”
:::

```{python}
#| echo: false
#| fig-align: "center"

import matplotlib.pyplot as plt
import seaborn as sns

# ì§€ì—° ë°œìƒ íšŸìˆ˜ ê³„ì‚° (dep_delay > 0 ì¸ ê²½ìš°ë§Œ)
delay_counts = df_fh[df_fh['dep_delay'] > 0].groupby('manufacturer')['dep_delay'].count()

# ì „ì²´ ìš´í•­ ëŒ€ë¹„ ì§€ì—° ë¹„ìœ¨ ê³„ì‚°
total_flights = df_fh['manufacturer'].value_counts()
delay_rate = (delay_counts / total_flights).fillna(0) * 100  # í¼ì„¼íŠ¸ ë³€í™˜

# ë°ì´í„° ì •ë ¬
delay_df = (
    pd.DataFrame({'Delay Count': delay_counts, 'Delay Rate (%)': delay_rate})
    .sort_values(by="Delay Count", ascending=False)
)
```

```{python}
#| echo: true
#| code-fold: true
#| fig-align: "center"


# ìƒ‰ìƒ ì‚¬ìš©ì ì§€ì • 
yellow = '#ffcc00'

# ì‹œê°í™” ì„œë¸Œ í”Œë¡¯ ì‚¬ìš© 
fig, ax1 = plt.subplots(figsize=(14, 4))
total_flights_df = df_fh['manufacturer'].value_counts()
# ë°” ì°¨íŠ¸: ì§€ì—° íšŸìˆ˜
sns.barplot(x=delay_df.index, y=delay_df["Delay Count"], palette=['red', 'gray', dark_gray], ax=ax1)
ax1.set_ylabel("Number of Delays", fontsize=12)
ax1.set_xlabel("Manufacturer", fontsize=12)
ax1.set_title("Number of Delays by Manufacturer", fontsize=14)
ax1.tick_params(axis="x")

# ë¼ì¸ ì°¨íŠ¸: ì§€ì—° ë¹„ìœ¨ (%)
ax2 = ax1.twinx()
sns.lineplot(x=delay_df.index, y=delay_df["Delay Rate (%)"], marker="o", color=yellow, ax=ax2)
ax2.set_ylabel("Delay Rate (%)", fontsize=12)
ax2.grid(False)

# ğŸ”¥ ìƒ‰ìƒ ì„¤ì •: BOEING - ë¹¨ê°„ìƒ‰, AIRBUS INDUSTRIE - íšŒìƒ‰, AIRBUS - ì§™ì€ íšŒìƒ‰ ğŸ”¥
color_map = {
    "BOEING": "red",
    "AIRBUS INDUSTRIE": "gray",
    "AIRBUS": dark_gray  # ì§™ì€ íšŒìƒ‰ (Dark Gray)
}

# ğŸ”¥ ì§€ì—° íšŸìˆ˜ / ì´ ìš´í•­ íšŸìˆ˜ ìˆ«ì ì§ì ‘ í‘œì‹œ ğŸ”¥
for i, (manufacturer, y) in enumerate(zip(delay_df.index, delay_df["Delay Count"])):
    total_flights = total_flights_df[manufacturer]  # ê° ì œì¡°ì‚¬ì˜ ì´ ìš´í•­ íšŸìˆ˜ ê°€ì ¸ì˜¤ê¸°
    delay_ratio = (y / total_flights) * 100  # ì§€ì—° íšŸìˆ˜ / ì´ ìš´í•­ íšŸìˆ˜ ë¹„ìœ¨
    
    # ğŸ”¥ ì œì¡°ì‚¬ë³„ ìƒ‰ìƒ ì„ íƒ (ê¸°ë³¸ê°’ì€ ê²€ì •ìƒ‰)
    text_color = color_map.get(manufacturer, "black")

    # í…ìŠ¤íŠ¸ ì¶œë ¥
    ax1.text(x=i, y=y + 200, s=f"{y}/{total_flights} ({delay_ratio:.1f}%)", 
             color=text_color, fontweight='bold', fontsize=16, ha="center")
plt.show()
```

# 4. ê²°ë¡  ë° ê°œì„  ë°©ì•ˆ

## 4.1 ë¶„ì„ ê²°ê³¼ ì •ë¦¬

::: {.panel-tabset}

### ğŸ“Š ë°ì´í„° ì‹œê°í™” 
```{python}

#| echo : false
#| fig-align: "left"

import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

# ë‹¤í¬ê·¸ë ˆì´ HEX ì½”ë“œ ì„¤ì •
dark_gray = '#A9A9A9'

# ì‹œê°í™”: 4ê°œì˜ ì„œë¸Œí”Œë¡¯ ìƒì„±
fig, axes = plt.subplots(2, 2, figsize=(14, 5.6))

# (1) ì œì¡°ì‚¬ë³„ ì§€ì—° í‰ê·  ê·¸ë˜í”„
sns.barplot(x=manufacturer_stats.index, y=manufacturer_stats['mean'], ax=axes[0, 0], 
            palette=['red' if x == 'BOEING' else ('gray' if i == 1 else dark_gray) for i, x in enumerate(manufacturer_stats.index)])
axes[0, 0].axhline(mean_avg, color='black', linestyle='--', label=f'Mean Avg: {mean_avg:.1f}')
axes[0, 0].set_title('Aircraft Manufacturer Delay (Mean)')
axes[0, 0].set_ylabel('Average Delay (minutes)')
axes[0, 0].legend()

# (2) ì œì¡°ì‚¬ë³„ ì§€ì—° ì¤‘ì•™ê°’ ê·¸ë˜í”„
sns.barplot(x=manufacturer_stats.index, y=manufacturer_stats['median'], ax=axes[0, 1], 
            palette=['red' if x == 'BOEING' else ('gray' if i == 1 else dark_gray) for i, x in enumerate(manufacturer_stats.index)])
axes[0, 1].axhline(median_avg, color='black', linestyle='--', label=f'Median Avg: {median_avg:.1f}')
axes[0, 1].set_title('Aircraft Manufacturer Delay (Median)')
axes[0, 1].set_ylabel('Median Delay (minutes)')
axes[0, 1].legend()

# (3) ì œì¡°ì‚¬ë³„ ìš´í•­ íšŸìˆ˜ íŒŒì´ì°¨íŠ¸
axes[1, 0].pie(manufacturer_counts, labels=labels, autopct='%1.1f%%', startangle=140, 
               colors=['red' if i == 0 else ('gray' if i == 1 else dark_gray) for i in range(len(manufacturer_counts))])
axes[1, 0].set_title('Aircraft Manufacturer Distribution for Our Airline')

# (4) ì§€ì—° ë°œìƒ íšŸìˆ˜ ë° ë¹„ìœ¨ ê·¸ë˜í”„
sns.barplot(x=delay_df.index, y=delay_df["Delay Count"], ax=axes[1, 1], 
            palette=['red' if x == 'BOEING' else ('gray' if i == 1 else dark_gray) for i, x in enumerate(delay_df.index)])
axes[1, 1].set_ylabel("Number of Delays")

axes[1, 1].set_title("Number of Delays by Manufacturer")

# ì§€ì—° ë¹„ìœ¨(%) ì¶”ê°€ (ë³´ì¡° ì¶•)
ax2 = axes[1, 1].twinx()
sns.lineplot(x=delay_df.index, y=delay_df["Delay Rate (%)"], marker="o", color="black", ax=ax2)


ax2.set_ylabel("Delay Rate (%)")
ax2.grid(False)

# ì£¼ì„ ì¶”ê°€
for i, (x, y) in enumerate(zip(delay_df.index, delay_df["Delay Count"])):
    total_flights = manufacturer_counts[x]
    delay_ratio = (y / total_flights) * 100
    axes[1, 1].text(x=i, y=y + 200, s=f"{y}/{total_flights} ({delay_ratio:.1f}%)", 
                     color="red", fontweight='bold', fontsize=10, ha="center")
plt.tight_layout()
plt.show()
```

### ğŸš¨ ìš´í•­ ì§€ì—° ë¬¸ì œ ë¶„ì„

- BOEING ê¸°ì¢…ì´ ì „ì²´ ìš´í•­ì˜ 73.2%ë¥¼ ì°¨ì§€í•˜ê³  ìˆìœ¼ë©°,
- ìš´í•­ ë¹ˆë„ ëŒ€ë¹„ ì§€ì—° ë°œìƒ ë¹„ìœ¨ì´ 41.8%ë¡œ ê°€ì¥ ë†’ìŒ
- ë‹¤ë¥¸ ê¸°ì¢…ì— ë¹„í•´ ì§€ì—°ì´ ì§‘ì¤‘ë˜ëŠ” í˜„ìƒì´ ëšœë ·
- BOEING ê¸°ì¢…ì˜ ìš´í•­ ì§€ì—°ì„ ì¤„ì´ëŠ” ê²ƒì´ ìµœìš°ì„  ê³¼ì œ

### âœˆï¸ ìš´í•­ ìµœì í™” ë°©ì•ˆ
#### 1. BOEING ì •ë¹„ ë° ì˜ˆë°© ì •ë¹„ ê°•í™” ğŸ› ï¸
  âœ… ì •ë¹„íŒ€ ìš´ì˜ ë° ì •ë¹„ì†Œ í™•ì¶© â†’ _ëŒ€ì‘ë ¥ ê°•í™”_<br>
  âœ… ì§€ì—° ë¶„ì„ í›„ ë…¸í›„ ê¸°ì²´ êµì²´ â†’ _ì°¨ì§ˆ ìµœì†Œí™”_<br>
<br>

#### 2. ì˜ˆë¹„ ê¸°ì²´ í™œìš© ìµœì í™” âœˆï¸
  âœ… ì˜ˆë¹„ ê¸°ì²´ ìš´ì˜ ê°•í™” â†’ _ê¸´ê¸‰ ëŒ€ì‘ ë° ê°€ë™ë¥  í–¥ìƒ_<br>
  âœ… ìŠ¤ì¼€ì¤„ ê¸°ë°˜ ë°°ì¹˜ ìµœì í™” â†’ _í™œìš©ë„ ê·¹ëŒ€í™”, ì§€ì—° ê°ì†Œ_<br>

<br>

#### 3. ì§€ì—° ë¹ˆë„ ë‚®ì€ ì œì¡°ì‚¬ ê¸°ì²´ í™œìš© ğŸ“Š
  âœ… ì§€ì—° ì ì€ ê¸°ì²´ í™•ëŒ€ ìš´ìš© â†’ _ì§€ì—° ê°ì†Œ_<br>
  âœ… ì‹ ë¢°ë„ ë†’ì€ ê¸°ì²´ ìš´í•­ í™•ëŒ€ â†’ _ì•ˆì •ì  ìš´í•­ í™˜ê²½ ì¡°ì„±_
:::

## Thank you!
![](./images/thankyou.png){fig-align="center" width=1000 height=600}
